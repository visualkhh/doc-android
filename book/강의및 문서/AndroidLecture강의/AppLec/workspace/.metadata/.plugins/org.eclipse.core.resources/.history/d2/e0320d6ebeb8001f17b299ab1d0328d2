package hest.co.kr;

import android.app.ListActivity;
import android.os.Bundle;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.TextView;

public class MyCPDemo extends ListActivity {
	TextView mCallbackText;
	Button call_btn;
	private static String[] MY_PROJECTION= new String[] {
	MyProdDBCons._ID, MyProdDBCons.PROD_CODE, MyProdDBCons.PROD_NAME};
	
	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.my_cp_demo);
		mCallbackText = (TextView)findViewById(R.id.callback);
		mCallbackText.setText("ContentProvider ¿¹Á¦");
		call_btn = (Button)findViewById(R.id.call);
		call_btn.setOnClickListener(mCalllListener);		
	}
	private OnClickListener mCalllListener = new OnClickListener() {
		public void onClick(View v) {
		Cursor c = getContentResolver().query(MyProdDBCons.CONTENT_URI
		, MY_PROJECTION, null, null, null);
		startManagingCursor(c);
		ListAdapter adapter = new SimpleCursorAdapter(MyCPDemo.this,
		android.R.layout.simple_list_item_2,
		c,
		new String[] {
		MyProdDBCons.PROD_CODE, MyProdDBCons.PROD_NAME},
		new int[] {android.R.id.text1, android.R.id.text2});
		setListAdapter(adapter);
		};
		}	
}
